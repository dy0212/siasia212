<!-- public/ideas.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì €ì¥ëœ ì•„ì´ë””ì–´ ëª©ë¡</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    .card { border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; border-radius: 8px; }
  </style>
</head>
<body>
  <h1>ğŸ“ ì €ì¥ëœ ì•„ì´ë””ì–´ë“¤</h1>
  <div id="ideaList"></div>
  <button onclick="window.history.back()">â¬… ëŒì•„ê°€ê¸°</button>

  <script>
    const API_BASE = 'https://idea-collector-57v9.onrender.com';

    async function loadIdeas() {
      try {
        const res = await fetch(`${API_BASE}/ideas`, { credentials: 'include' });
        if (!res.ok) {
          document.body.innerHTML = '<p>ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>';
          return;
        }
        const ideas = await res.json();
        const listEl = document.getElementById('ideaList');
        listEl.innerHTML = '';
        ideas.slice().reverse().forEach(idea => {
          const card = document.createElement('div');
          card.className = 'card';
          card.innerHTML = `
            <strong>${idea.title}</strong><br>
            <small>${new Date(idea.date).toLocaleString()}</small><br>
            <p>${idea.description}</p>
          `;
          listEl.appendChild(card);
        });
      } catch (err) {
        console.error('ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨', err);
      }
    }

    loadIdeas();
  </script>
</body>
</html>
